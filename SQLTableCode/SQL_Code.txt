CREATE TABLE Dependents (
  ESSN INT(9) NOT NULL,
  FirstName VARCHAR(100) NOT NULL,
  MiddleName VARCHAR(100),
  LastName VARCHAR(100) NOT NULL,
  Relationship VARCHAR(50),
  PRIMARY KEY (ESSN)
);
CREATE TABLE Employee (
  SSN INT(9) NOT NULL,
  CEOSSN INT(9),
  Address VARCHAR(200),
  FirstName VARCHAR(100) NOT NULL,
  MiddleName VARCHAR(100),
  LastName VARCHAR(100) NOT NULL,
  Birthdate DATE,
  Salary DECIMAL(10,2),
  Sex CHAR(1),
  PRIMARY KEY (SSN)
);
CREATE TABLE CEO (
  SSN INT(9) NOT NULL,
  Address VARCHAR(200),
  Birthdate DATE,
  FirstName VARCHAR(100) NOT NULL,
  MiddleName VARCHAR(100),
  LastName VARCHAR(100) NOT NULL,
  PRIMARY KEY (SSN)
);
CREATE TABLE Report (
  ReportID INT NOT NULL AUTO_INCREMENT,
  CEOSSN INT(9) NOT NULL,
  NumberOfClients INT NOT NULL,
  PRIMARY KEY (ReportID),
  FOREIGN KEY (CEOSSN) REFERENCES CEO(SSN)
);
CREATE TABLE Supplier (
  Name VARCHAR(100) NOT NULL,
  Address VARCHAR(200) NOT NULL,
  PRIMARY KEY (Name)
);
CREATE TABLE Locomotives (
  TrainID INT NOT NULL,
  WeightPullLimit INT NOT NULL,
  PRIMARY KEY (TrainID)
);
CREATE TABLE FreightCars (
  TrainID INT NOT NULL,
  Weight INT NOT NULL,
  PRIMARY KEY (TrainID)
);
CREATE TABLE TransitCars (
  TrainID INT NOT NULL,
  Occupancy INT NOT NULL,
  PRIMARY KEY (TrainID)
);
CREATE TABLE Train (
  TrainID INT NOT NULL PRIMARY KEY,
  InspectorSSN INT NOT NULL,
  BranchID INT NOT NULL,
  LocomotiveType VARCHAR(100) NOT NULL
);
CREATE TABLE Parts (
  PartNumber INT NOT NULL PRIMARY KEY,
  SupplierName VARCHAR(100) NOT NULL,
  TrainID INT NOT NULL,
  Cost DECIMAL(10,2) NOT NULL
);
CREATE TABLE `Repair/Service` (
  ESSN INT(9) NOT NULL,
  TrainID INT NOT NULL,
  PRIMARY KEY (ESSN, TrainID)
);
CREATE TABLE `Builds` (
  ESSN INT(9) NOT NULL,
  TrainID INT NOT NULL,
  PRIMARY KEY (ESSN, TrainID)
);
CREATE TABLE `SafetyInspector` (
  ESSN INT(9) NOT NULL,
  InspectorCredentials VARCHAR(50) NOT NULL,
  PRIMARY KEY (ESSN)
);
CREATE TABLE TrainEngineer (
  ESSN INT(9) NOT NULL,
  SupplierName VARCHAR(100) NOT NULL,
  Credentials VARCHAR(100) NOT NULL,
  TypeOfOrder VARCHAR(100) NOT NULL,
  PRIMARY KEY (ESSN)
);
CREATE TABLE FreightCarWorker (
  ESSN INT NOT NULL,
  FreightCarID INT NOT NULL,
  PRIMARY KEY (ESSN)
);
CREATE TABLE TransitWorker (
  ESSN INT PRIMARY KEY,
  TransitID INT
);
CREATE TABLE LocomotiveWorker (
  ESSN INT PRIMARY KEY,
  TransitID INT
);
CREATE TABLE Company (
  CompanyID INT PRIMARY KEY,
  CName VARCHAR(255),
  Address VARCHAR(255)
);
CREATE TABLE shop (
  BranchID INTEGER NOT NULL,
  Field VARCHAR(50) NOT NULL,
  ShopName VARCHAR(50) NOT NULL,
  Location VARCHAR(100) NOT NULL,
  PRIMARY KEY (BranchID)
);
CREATE TABLE Client (
  ClientName VARCHAR(255) NOT NULL,
  BranchID INT NOT NULL,
  PRIMARY KEY (ClientName)
);
CREATE TABLE Government (
    Branch VARCHAR(255),
    ClientName VARCHAR(255),
    Address VARCHAR(255),
    PRIMARY KEY (Branch, ClientName)
);

ALTER TABLE Dependents ADD FOREIGN KEY (ESSN) REFERENCES Employee(SSN);

ALTER TABLE Employee ADD FOREIGN KEY (CEOSSN) REFERENCES CEO(SSN);

ALTER TABLE Report ADD FOREIGN KEY (CEOSSN) REFERENCES CEO(SSN);

ALTER TABLE Parts ADD FOREIGN KEY (SupplierName) REFERENCES Supplier(Name);

ALTER TABLE Parts ADD FOREIGN KEY (TrainID) REFERENCES Train(TrainID);

ALTER TABLE `Repair/Service` ADD FOREIGN KEY (ESSN) REFERENCES Employee(SSN);

ALTER TABLE `Repair/Service` ADD FOREIGN KEY (TrainID) REFERENCES Train(TrainID);

ALTER TABLE `Builds` ADD FOREIGN KEY (ESSN) REFERENCES Employee(SSN);

ALTER TABLE `Builds` ADD FOREIGN KEY (TrainID) REFERENCES Train(TrainID);

ALTER TABLE TransitWorker ADD FOREIGN KEY (TransitID) REFERENCES TransitCars(TrainID);

ALTER TABLE LocomotiveWorker ADD FOREIGN KEY (TransitID) REFERENCES Locomotives(TrainID);

ALTER TABLE Train ADD FOREIGN KEY (InspectorSSN) REFERENCES Employee(SSN);

ALTER TABLE TrainEngineer ADD FOREIGN KEY (ESSN) REFERENCES Employee(SSN);

ALTER TABLE FreightCarWorker ADD FOREIGN KEY (ESSN) REFERENCES Employee(SSN);

ALTER TABLE FreightCarWorker ADD FOREIGN KEY (FreightCarID) REFERENCES FreightCars(TrainID);

ALTER TABLE TransitCars ADD FOREIGN KEY (TrainID) REFERENCES Train(TrainID);

ALTER TABLE FreightCars ADD FOREIGN KEY (TrainID) REFERENCES Train(TrainID);

ALTER TABLE Government ADD FOREIGN KEY (Branch) REFERENCES shop(BranchID);

ALTER TABLE Government ADD FOREIGN KEY (ClientName) REFERENCES Client(ClientName);

ALTER TABLE Client ADD FOREIGN KEY (BranchID) REFERENCES shop(BranchID);




